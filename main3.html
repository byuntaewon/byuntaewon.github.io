<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>연봉별 월 실수령액 (소득세/지방소득세 포함)</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f9f9f9;
      margin: 20px;
      display: flex;
      justify-content: center;
    }
    table {
      border-collapse: collapse;
      width: 90%;
      max-width: 1100px;
      margin: 20px auto;
      text-align: right;
      font-size: 0.9em;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 6px;
    }
    th {
      background: #eee;
    }
    caption {
      font-size: 1.4em;
      margin-bottom: 10px;
      text-align: center;
    }
    /* 연봉 열은 좌측 정렬 */
    th:first-child, td:first-child {
      text-align: left;
    }
    /* 구분용 빈 행 스타일 */
    .gap {
      border: none;
      height: 10px;
      background: #fff;
    }
  </style>
</head>
<body>
  <table>
    <caption>연봉별 월 실수령액 계산 (소득세/지방소득세 포함, 예시)</caption>
    <thead>
      <tr>
        <th>연봉 (원)</th>
        <th>월 실수령액 (원)</th>
        <th>월 공제액계 (원)</th>
        <th>국민연금<br>(4.5%)</th>
        <th>건강보험<br>(3.545%)</th>
        <th>장기요양<br>(건강보험의 12.95%)</th>
        <th>고용보험<br>(0.9%)</th>
        <th>소득세 (월)</th>
        <th>지방소득세 (월)</th>
      </tr>
    </thead>
    <tbody id="salaryTableBody">
      <!-- 자바스크립트로 행 추가 -->
    </tbody>
  </table>

  <script>
    const tbody = document.getElementById('salaryTableBody');

    // 월 기준 공제율 (예시)
    const pensionRate    = 0.045;    // 국민연금 4.5%
    const healthRate     = 0.03545;  // 건강보험 3.545%
    const longTermRate   = 0.1295;   // 장기요양: 건강보험 금액의 12.95%
    const employmentRate = 0.009;    // 고용보험 0.9%

    // 근로소득공제(예상치) 함수  
    // 연봉 1천만원 이하: 과세표준 0, 그 이상은 deduction = annual×0.2219467 + 13,117,066
    // (실제와 다를 수 있으므로 예시용)
    function computeTaxableIncome(annual) {
      if (annual <= 10000000) {
        return 0;
      } else {
        const deduction = annual * 0.2219467 + 13117066;
        const taxable = annual - deduction;
        return taxable > 0 ? taxable : 0;
      }
    }

    // 누진세율표에 따른 연간 소득세 계산 (과세표준에 적용)
    function computeAnnualIncomeTax(annual) {
      const taxable = computeTaxableIncome(annual);
      let tax = 0;
      if (taxable <= 0) {
        tax = 0;
      } else if (taxable <= 14000000) {
        tax = taxable * 0.06;
      } else if (taxable <= 50000000) {
        tax = taxable * 0.15 - 1260000;
      } else if (taxable <= 88000000) {
        tax = taxable * 0.24 - 5760000;
      } else if (taxable <= 150000000) {
        tax = taxable * 0.35 - 15440000;
      } else if (taxable <= 300000000) {
        tax = taxable * 0.38 - 19940000;
      } else if (taxable <= 500000000) {
        tax = taxable * 0.40 - 25940000;
      } else if (taxable <= 1000000000) {
        tax = taxable * 0.42 - 35940000;
      } else {
        tax = taxable * 0.45 - 66940000;
      }
      return Math.floor(tax);
    }

    // 설정: 연봉 1천만원부터 1억원, 100만원 단위
    const startSalary = 10000000;    // 1천만원
    const endSalary   = 100000000;    // 1억원
    const step        = 1000000;      // 100만원 단위

    let rowCount = 0; // 행 카운터

    for (let annual = startSalary; annual <= endSalary; annual += step) {
      // 월 급여: 연봉을 12로 나누고 소수점 버림
      const monthlyGross = Math.floor(annual / 12);

      // 월별 공제(소득세, 지방소득세 제외)
      const pensionMonthly    = Math.floor(monthlyGross * pensionRate);
      const healthMonthly     = Math.floor(monthlyGross * healthRate);
      const longTermMonthly   = Math.floor(healthMonthly * longTermRate);
      const employmentMonthly = Math.floor(monthlyGross * employmentRate);

      // 소득세/지방소득세는 연간 누진세율로 계산 후 월별로 나눔
      const annualIncomeTax = computeAnnualIncomeTax(annual);
      const monthlyIncomeTax = Math.floor(annualIncomeTax / 12);
      const monthlyLocalTax  = Math.floor((annualIncomeTax * 0.1) / 12);

      // 전체 월 공제액계
      const monthlyDeduction = pensionMonthly + healthMonthly + longTermMonthly + employmentMonthly + monthlyIncomeTax + monthlyLocalTax;

      // 월 실수령액
      const monthlyNet = monthlyGross - monthlyDeduction;

      // 새로운 행 생성
      const tr = document.createElement('tr');

      // 셀 생성 함수
      function createCell(value) {
        const td = document.createElement('td');
        td.textContent = Number(value).toLocaleString('ko-KR', { maximumFractionDigits: 0 });
        return td;
      }

      tr.appendChild(createCell(annual));           // 연봉 (원)
      tr.appendChild(createCell(monthlyNet));         // 월 실수령액 (원)
      tr.appendChild(createCell(monthlyDeduction));   // 월 공제액계 (원)
      tr.appendChild(createCell(pensionMonthly));     // 국민연금
      tr.appendChild(createCell(healthMonthly));      // 건강보험
      tr.appendChild(createCell(longTermMonthly));    // 장기요양
      tr.appendChild(createCell(employmentMonthly));  // 고용보험
      tr.appendChild(createCell(monthlyIncomeTax));   // 소득세 (월)
      tr.appendChild(createCell(monthlyLocalTax));    // 지방소득세 (월)

      tbody.appendChild(tr);

      rowCount++;
      // 5행(500만원)마다 구분용 빈 행 추가 (마지막 행 전까지)
      if (rowCount % 5 === 0 && annual < endSalary) {
        const gapTr = document.createElement('tr');
        const gapTd = document.createElement('td');
        gapTd.colSpan = 9;
        gapTd.className = 'gap';
        gapTr.appendChild(gapTd);
        tbody.appendChild(gapTr);
      }
    }
  </script>
</body>
</html>
