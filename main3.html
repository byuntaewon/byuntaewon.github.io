<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>연봉별 월 실수령액</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f9f9f9;
      margin: 20px;
      display: flex;
      justify-content: center;
    }
    table {
      border-collapse: collapse;
      width: 90%;
      max-width: 800px;
      margin: 20px auto;
      text-align: right;
      font-size: 0.9em;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 6px;
    }
    th {
      background: #eee;
    }
    caption {
      font-size: 1.4em;
      margin-bottom: 10px;
      text-align: center;
    }
    /* 연봉 열은 좌측 정렬 */
    th:first-child, td:first-child {
      text-align: left;
    }
    /* 구분용 빈 행 스타일 */
    .gap {
      border: none;
      height: 10px;
      background: #fff;
    }
  </style>
</head>
<body>
  <table>
    <caption>연봉별 월 실수령액 계산 (예시)</caption>
    <thead>
      <tr>
        <th>연봉 (원)</th>
        <th>월 실수령액 (원)</th>
        <th>월 공제액계 (원)</th>
        <th>국민연금 (4.5%)</th>
        <th>건강보험 (3.545%)</th>
        <th>장기요양<br>(건강보험의 12.95%)</th>
        <th>고용보험<br>(과세금액의 0.9%)</th>
      </tr>
    </thead>
    <tbody id="salaryTableBody">
      <!-- 자바스크립트로 행 추가 -->
    </tbody>
  </table>

  <script>
    const tbody = document.getElementById('salaryTableBody');

    // 공제율 (월 기준 계산, 예시용)
    const pensionRate = 0.045;       // 국민연금 4.5%
    const healthRate  = 0.03545;     // 건강보험 3.545%
    const longTermRate = 0.1295;     // 장기요양: 건강보험 금액의 12.95%
    const employmentRate = 0.009;    // 고용보험 0.9% (이전 0.09에서 수정)

    const startSalary = 10000000;    // 1천만원
    const endSalary   = 100000000;    // 1억원
    const step        = 1000000;     // 100만원 단위

    let rowCount = 0; // 행 카운터

    for (let annual = startSalary; annual <= endSalary; annual += step) {
      // 월 급여 계산: 연봉을 12로 나눈 후 소수점 이하 버림 처리
      const monthlyGross = Math.floor(annual / 12);

      // 월별 공제액 계산 (소득세/지방소득세는 0원으로 처리)
      const pensionMonthly = Math.floor(monthlyGross * pensionRate);
      const healthMonthly  = Math.floor(monthlyGross * healthRate);
      const longTermMonthly = Math.floor(healthMonthly * longTermRate);
      const employmentMonthly = Math.floor(monthlyGross * employmentRate);

      const monthlyDeduction = pensionMonthly + healthMonthly + longTermMonthly + employmentMonthly;
      const monthlyNet = monthlyGross - monthlyDeduction;

      // 새로운 행 생성
      const tr = document.createElement('tr');

      // 셀 생성 헬퍼 함수
      function createCell(value) {
        const td = document.createElement('td');
        td.textContent = Number(value).toLocaleString('ko-KR', { maximumFractionDigits: 0 });
        return td;
      }

      tr.appendChild(createCell(annual));         // 연봉 (입력값)
      tr.appendChild(createCell(monthlyNet));       // 월 실수령액
      tr.appendChild(createCell(monthlyDeduction)); // 월 공제액계
      tr.appendChild(createCell(pensionMonthly));   // 국민연금
      tr.appendChild(createCell(healthMonthly));    // 건강보험
      tr.appendChild(createCell(longTermMonthly));  // 장기요양
      tr.appendChild(createCell(employmentMonthly));// 고용보험

      tbody.appendChild(tr);

      rowCount++;
      // 5행(500만원)마다 구분용 빈 행 추가 (마지막 행 전까지)
      if (rowCount % 5 === 0 && annual < endSalary) {
        const gapTr = document.createElement('tr');
        const gapTd = document.createElement('td');
        gapTd.colSpan = 7;
        gapTd.className = 'gap';
        gapTr.appendChild(gapTd);
        tbody.appendChild(gapTr);
      }
    }
  </script>
</body>
</html>
